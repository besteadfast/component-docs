import{a8 as he,a5 as N,F as me,N as k,X as C,d as _,j as P,x as B,s as S,y as T,z as G,v as ge,n as be}from"./framework.BQiZN-Cb.js";function j(e,t,...n){if(e in t){let a=t[e];return typeof a=="function"?a(...n):a}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,j),r}var J=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(J||{}),y=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(y||{});function ee({visible:e=!0,features:t=0,ourProps:n,theirProps:r,...a}){var l;let i=ne(r,n),o=Object.assign(a,{props:i});if(e||t&2&&i.static)return D(o);if(t&1){let u=(l=i.unmount)==null||l?0:1;return j(u,{0(){return null},1(){return D({...a,props:{...i,hidden:!0,style:{display:"none"}}})}})}return D(o)}function D({props:e,attrs:t,slots:n,slot:r,name:a}){var l,i;let{as:o,...u}=re(e,["unmount","static"]),s=(l=n.default)==null?void 0:l.call(n,r),p={};if(r){let v=!1,c=[];for(let[g,h]of Object.entries(r))typeof h=="boolean"&&(v=!0),h===!0&&c.push(g);v&&(p["data-headlessui-state"]=c.join(" "))}if(o==="template"){if(s=te(s??[]),Object.keys(u).length>0||Object.keys(t).length>0){let[v,...c]=s??[];if(!ye(v)||c.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(u).concat(Object.keys(t)).map(d=>d.trim()).filter((d,f,A)=>A.indexOf(d)===f).sort((d,f)=>d.localeCompare(f)).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`));let g=ne((i=v.props)!=null?i:{},u),h=he(v,g);for(let d in g)d.startsWith("on")&&(h.props||(h.props={}),h.props[d]=g[d]);return h}return Array.isArray(s)&&s.length===1?s[0]:s}return N(o,Object.assign({},u,p),{default:()=>s})}function te(e){return e.flatMap(t=>t.type===me?te(t.children):[t])}function ne(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let a in r)a.startsWith("on")&&typeof r[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(r[a])):t[a]=r[a];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](a,...l){let i=n[r];for(let o of i){if(a instanceof Event&&a.defaultPrevented)return;o(a,...l)}}});return t}function Xe(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function re(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function ye(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let we=0;function Ee(){return++we}function Se(){return Ee()}var Oe=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Oe||{});function K(e){var t;return e==null||e.value==null?null:(t=e.value.$el)!=null?t:e.value}let ae=Symbol("Context");var m=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(m||{});function Te(){return le()!==null}function le(){return k(ae,null)}function je(e){C(ae,e)}var Ae=Object.defineProperty,$e=(e,t,n)=>t in e?Ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q=(e,t,n)=>($e(e,typeof t!="symbol"?t+"":t,n),n);class Le{constructor(){Q(this,"current",this.detect()),Q(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let Fe=new Le;function Ce(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function M(){let e=[],t={addEventListener(n,r,a,l){return n.addEventListener(r,a,l),t.add(()=>n.removeEventListener(r,a,l))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...n)})},setTimeout(...n){let r=setTimeout(...n);t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Ce(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,a){let l=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:a}),this.add(()=>{Object.assign(n.style,{[r]:l})})},group(n){let r=M();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let a of e.splice(r,1))a()}},dispose(){for(let n of e.splice(0))n()}};return t}function Pe(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function U(e,...t){e&&t.length>0&&e.classList.add(...t)}function F(e,...t){e&&t.length>0&&e.classList.remove(...t)}var R=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(R||{});function Be(e,t){let n=M();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:a}=getComputedStyle(e),[l,i]=[r,a].map(o=>{let[u=0]=o.split(",").filter(Boolean).map(s=>s.includes("ms")?parseFloat(s):parseFloat(s)*1e3).sort((s,p)=>p-s);return u});return l!==0?n.setTimeout(()=>t("finished"),l+i):t("finished"),n.add(()=>t("cancelled")),n.dispose}function Z(e,t,n,r,a,l){let i=M(),o=l!==void 0?Pe(l):()=>{};return F(e,...a),U(e,...t,...n),i.nextFrame(()=>{F(e,...n),U(e,...r),i.add(Be(e,u=>(F(e,...r,...t),U(e,...a),o(u))))}),i.add(()=>F(e,...t,...n,...r,...a)),i.add(()=>o("cancelled")),i.dispose}function E(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let q=Symbol("TransitionContext");var ke=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ke||{});function He(){return k(q,null)!==null}function xe(){let e=k(q,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function De(){let e=k(I,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let I=Symbol("NestingContext");function H(e){return"children"in e?H(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function ie(e){let t=S([]),n=S(!1);T(()=>n.value=!0),G(()=>n.value=!1);function r(l,i=y.Hidden){let o=t.value.findIndex(({id:u})=>u===l);o!==-1&&(j(i,{[y.Unmount](){t.value.splice(o,1)},[y.Hidden](){t.value[o].state="hidden"}}),!H(t)&&n.value&&(e==null||e()))}function a(l){let i=t.value.find(({id:o})=>o===l);return i?i.state!=="visible"&&(i.state="visible"):t.value.push({id:l,state:"visible"}),()=>r(l,y.Unmount)}return{children:t,register:a,unregister:r}}let oe=J.RenderStrategy,Ue=_({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:a}){let l=S(0);function i(){l.value|=m.Opening,t("beforeEnter")}function o(){l.value&=~m.Opening,t("afterEnter")}function u(){l.value|=m.Closing,t("beforeLeave")}function s(){l.value&=~m.Closing,t("afterLeave")}if(!He()&&Te())return()=>N(Ne,{...e,onBeforeEnter:i,onAfterEnter:o,onBeforeLeave:u,onAfterLeave:s},r);let p=S(null),v=P(()=>e.unmount?y.Unmount:y.Hidden);a({el:p,$el:p});let{show:c,appear:g}=xe(),{register:h,unregister:d}=De(),f=S(c.value?"visible":"hidden"),A={value:!0},O=Se(),$={value:!1},V=ie(()=>{!$.value&&f.value!=="hidden"&&(f.value="hidden",d(O),s())});T(()=>{let b=h(O);G(b)}),B(()=>{if(v.value===y.Hidden&&O){if(c.value&&f.value!=="visible"){f.value="visible";return}j(f.value,{hidden:()=>d(O),visible:()=>h(O)})}});let W=E(e.enter),z=E(e.enterFrom),se=E(e.enterTo),X=E(e.entered),ue=E(e.leave),de=E(e.leaveFrom),fe=E(e.leaveTo);T(()=>{B(()=>{if(f.value==="visible"){let b=K(p);if(b instanceof Comment&&b.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function pe(b){let x=A.value&&!g.value,w=K(p);!w||!(w instanceof HTMLElement)||x||($.value=!0,c.value&&i(),c.value||u(),b(c.value?Z(w,W,z,se,X,L=>{$.value=!1,L===R.Finished&&o()}):Z(w,ue,de,fe,X,L=>{$.value=!1,L===R.Finished&&(H(V)||(f.value="hidden",d(O),s()))})))}return T(()=>{ge([c],(b,x,w)=>{pe(w),A.value=!1},{immediate:!0})}),C(I,V),je(P(()=>j(f.value,{visible:m.Open,hidden:m.Closed})|l.value)),()=>{let{appear:b,show:x,enter:w,enterFrom:L,enterTo:Me,entered:qe,leave:Ie,leaveFrom:Ve,leaveTo:We,...Y}=e,ce={ref:p},ve={...Y,...g.value&&c.value&&Fe.isServer?{class:be([n.class,Y.class,...W,...z])}:{}};return ee({theirProps:ve,ourProps:ce,slot:{},slots:r,attrs:n,features:oe,visible:f.value==="visible",name:"TransitionChild"})}}}),Re=Ue,Ne=_({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){let a=le(),l=P(()=>e.show===null&&a!==null?(a.value&m.Open)===m.Open:e.show);B(()=>{if(![!0,!1].includes(l.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let i=S(l.value?"visible":"hidden"),o=ie(()=>{i.value="hidden"}),u=S(!0),s={show:l,appear:P(()=>e.appear||!u.value)};return T(()=>{B(()=>{u.value=!1,l.value?i.value="visible":H(o)||(i.value="hidden")})}),C(I,o),C(q,s),()=>{let p=re(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),v={unmount:e.unmount};return ee({ourProps:{...v,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[N(Re,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...v,...p},r.default)]},attrs:{},features:oe,visible:i.value==="visible",name:"Transition"})}}});export{ee as H,Xe as K,J as N,Ne as S,re as T,Oe as a,Fe as b,je as c,Ce as d,M as e,m as l,K as o,le as p,Se as t,j as u};
